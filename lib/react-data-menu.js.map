{"version":3,"sources":["../webpack/universalModuleDefinition","../webpack/bootstrap 87560bff0b3e6c34562a",".././module.js",".././components/Menu.js","../external {\"commonjs\":\"lodash\",\"commonjs2\":\"lodash\",\"amd\":\"lodash\",\"root\":\"Lodash\"}","../external {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\",\"root\":\"React\"}",".././util/Aligner.js",".././util/RectUtil.js",".././util/RectAlign.js",".././util/ViewportUtil.js",".././renderers/defaultRenderers.js",".././renderers/ButtonRenderer.js",".././util/Dom.js","../../~/classnames/index.js",".././renderers/LabelRenderer.js",".././renderers/SeparatorRenderer.js",".././util/hoverData.js",".././util/hoverDataBuilder.js",".././components/MenuPopup.js","../external {\"commonjs\":\"react-dom\",\"commonjs2\":\"react-dom\",\"amd\":\"react-dom\",\"root\":\"ReactDOM\"}",".././emitters/MenuEmitter.js",".././util/click.js","../../~/raycast-dom/index.js","../../~/raycast-dom/build/Emitter.js","../../~/raycast-dom/build/EmitterBase.js","../../~/raycast-dom/build/Ray.js","../../~/raycast-dom/build/util/dom.js","../../~/raycast-dom/build/lookup/evaluateID.js","../../~/raycast-dom/build/lookup/evaluateClassName.js","../../~/raycast-dom/build/lookup/equalID.js","../../~/raycast-dom/build/EmitterPlug.js","../../~/raycast-dom/build/lookup/evaluateReactID.js",".././components/MenuItemFactory.js",".././components/MenuPopupFactory.js","../../~/react-liberator/index.js","../../~/react-liberator/build/components/Liberator.js",".././components/DropdownMenu.js"],"names":["Menu","MenuEmitter","DropDownMenu","POPUP_ID_PREFIX","DEFAULT_LAYER_ID","MOUSE_LEAVE_DELAY","MOUSE_ENTER_DELAY","HINTS","ALIGN_TO","level","props","alignTo","position","currentHoverData","getElement","instances","layerElement","onItemClick","bind","closeMenu","createPopup","removeChildPopups","removePopups","processInActionDebounced","debounce","processInAction","processOutActionDebounced","processOutAction","popupFactory","classPrefix","itemFactory","assign","renderers","state","visible","expanded","popups","handlers","onMouseDownOutside","onMouseUpInside","onContextMenuInside","onClose","onMouseOver","onMouseOut","onTouchStart","onTouchEnd","onTouchStartOutside","self","forEach","instance","remove","getInstance","connect","disconnect","ray","preventDefault","hoverData","build","popupIndex","selectedIndex","itemIndex","setState","isLeafNode","isPersistant","defer","visibilityChanging","isOpening","isClosing","items","onOpen","connectToDispatcher","disconnectFromDispatcher","setMenuVisibility","unregisterAllParts","removeInstance","cancel","shouldFireCallback","hoverDataChanged","equals","childItems","hasCallback","fireCallback","getChildItems","onItemMouseEnter","shouldRemoveChildPopups","onItemMouseLeave","index","startIndex","slice","clean","id","length","push","hints","popup","map","data","alignToFunc","call","layer","layerId","autoCleanup","activateHandler","config","aligner","autoCloseOtherMenuInstances","closeOtherMenuInstances","nextProps","nextState","e","registerPart","previousHoverData","propTypes","PropTypes","object","string","array","isRequired","mouseEnterDelay","number","mouseLeaveDelay","bool","func","node","defaultProps","Aligner","target","handle","offset","x","y","targetRect","alignToRect","viewportRect","targetHandle","getZeroRectAtPosition","getBoundingRect","getRect","cloneRect","rectAlign","body","getPosition","style","left","top","RectUtil","element","bounds","getBoundingClientRect","right","bottom","width","height","delta","RectAlignSide","NORTH","SOUTH","EAST","WEST","RectAlignAnchor","START","MIDDLE","END","RectAlign","tries","success","find","hint","tryHint","fitsX","fitsY","fits","getFallbackPosition","preferredPosition","closerToLeft","closerToTop","side","direction","ViewportUtil","doc","document","documentElement","window","innerWidth","clientWidth","innerHeight","clientHeight","DefaultRenderers","classnames","require","Button","className","buildClassNames","chevron","isExpandable","key","title","Dom","parentElement","childElement","root","classNames","len","obj","i","Label","Separator","HoverData","popupId","itemId","persist","callback","arguments","other","_","some","item","HoverDataBuilder","popupElement","intersectsId","itemElement","parseInt","split","ITEM_ID_PREFIX","DEFAULT_ITEM_RENDERER_TYPE","MenuPopup","showing","children","menuItem","styles","classes","expandDescriptor","createItem","dom","findDOMNode","align","useOffset","firstChild","type","arrayOf","oneOfType","EmitterPlug","default","TAP_AND_HOLD_INTERVAL","parts","touchTimeout","isMenuPartClicked","includeToggleParts","part","shouldIncludeThisPart","isToggle","intersects","isTogglePartClicked","dispatchInteraction","dispatchClose","onMouseDown","onMouseUp","onContextMenu","onResize","onScroll","handlerName","emit","ON_CLOSE","isMenuCurrentlyOpen","isInside","isGhostClick","ON_MOUSE_DOWN_INSIDE","ON_MOUSE_DOWN_OUTSIDE","ON_MOUSE_UP_INSIDE","ON_CONTEXT_MENU_INSIDE","ON_CONTEXT_MENU_OUTSIDE","createRayAndEmit","ON_MOUSE_OVER","ON_MOUSE_OUT","touch","changedTouches","clientX","clientY","ON_TOUCH_START_INSIDE","ON_TOUCH_START_OUTSIDE","setTimeout","clearTimeout","ON_TOUCH_END_INSIDE","ClickUtil","isGhostClickEvent","sourceCapabilities","firesTouchEvents","MenuItemFactory","renderer","additions","createElement","MenuPopupFactory","depth","DropdownMenu","onButtonClick","onButtonTouchStart","onButtonMouseEnter","onButtonMouseLeave","onButtonContextMenu","hideMenu","isOpen","isTouch","openMenu","nativeEvent","openOnMouseOver","delay","closeOnMouseOut","toggleMode","buttonElement","buttonText","Children","child","cloneElement","ref","onMouseEnter","onMouseLeave","buttonClassName","menu","renderButton","refs","button"],"mappings":"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;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAK;;AAEL;AACA,EAAC;;AAED;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iB;;;;;;AC7OA;;AAEA;AACA;AACA,EAAC;;AAED,iCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB;;AAEA;;AAEA;;AAEA;;AAEA,uCAAsC,uCAAuC,gBAAgB;;AAE7F,kDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,cAAa;AACb;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAK;AACL;AACA;AACA;;AAEA;;AAEA;;AAEA,MAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,cAAa;;AAEb;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;;AAEA,MAAK;;AAEL;AACA,EAAC;;AAED,+B;;;;;;ACnIA;;AAEA;AACA;AACA,EAAC;;AAED,iCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,uCAAsC,uCAAuC,gBAAgB;;AAE7F,kDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAiB,EAAE;AACnB;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB,EAAE;AACvB;;AAEA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,sBAAqB;AACrB;;AAEA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;;AAEA,MAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;;AAEA,MAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,sBAAqB;AACrB;;AAEA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;;AAEA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;AAEA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA,MAAK;;AAEL;AACA,EAAC;;AAED,uB;;;;;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","file":"./react-data-menu.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"lodash\"), require(\"react\"), require(\"react-dom\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"lodash\", \"react\", \"react-dom\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactLiberator\"] = factory(require(\"lodash\"), require(\"react\"), require(\"react-dom\"));\n\telse\n\t\troot[\"ReactLiberator\"] = factory(root[\"Lodash\"], root[\"React\"], root[\"ReactDOM\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_17__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 87560bff0b3e6c34562a","export {Menu} from './components/Menu.js';\nexport {MenuEmitter} from './emitters/MenuEmitter.js';\nexport {DropDownMenu} from './components/DropdownMenu.js';\n\n\n\n// WEBPACK FOOTER //\n// ./module.js","import _ from 'lodash';\nimport React, { Component } from 'react';\nimport Aligner from './../util/Aligner.js';\nimport { DefaultRenderers } from './../renderers/defaultRenderers.js';\nimport Dom from './../util/Dom';\nimport HoverData from './../util/hoverData';\nimport HoverDataBuilder from './../util/hoverDataBuilder';\nimport MenuEmitter from './../emitters/MenuEmitter.js';\nimport MenuItemFactory from './MenuItemFactory.js';\nimport MenuPopup from './MenuPopup';\nimport MenuPopupFactory from './MenuPopupFactory.js';\nimport Liberator from 'react-liberator';\n\nexport const POPUP_ID_PREFIX = 'menu-popup-';\n\nconst DEFAULT_LAYER_ID = 'react-data-menu-popup',\n    MOUSE_LEAVE_DELAY = 100,\n    MOUSE_ENTER_DELAY = 200,\n    HINTS = function() {\n        return ['es', 'em', 'ee', 'ws', 'wm', 'we'];\n    },\n    ALIGN_TO = function(level) {\n        return !level ?\n            (this.props.alignTo || this.props.position) :\n            (this.currentHoverData ?\n                this.currentHoverData.getElement() :\n                null);\n    };\n\n// references to all the open menu instances\n// usually only the single instance, since by default we're allowing only a single menu on screen (we're auto-closing others)\nvar instances = [],\n    layerElement;\n\nexport default class Menu extends Component {\n\n    //<editor-fold desc=\"Constructor\">\n    constructor(props) {\n        super(props);\n\n        this.onItemClick = this.onItemClick.bind(this);\n        this.closeMenu = this.closeMenu.bind(this);\n        this.createPopup = this.createPopup.bind(this);\n        this.removeChildPopups = this.removeChildPopups.bind(this);\n        this.removePopups = this.removePopups.bind(this);\n\n        // debouncing: we don't want the child popup to open/close immediately\n        this.processInActionDebounced = _.debounce(this.processInAction.bind(this), MOUSE_ENTER_DELAY);\n        this.processOutActionDebounced = _.debounce(this.processOutAction.bind(this), MOUSE_LEAVE_DELAY);\n\n        this.popupFactory = new MenuPopupFactory(this.props.classPrefix);\n        this.itemFactory = new MenuItemFactory(_.assign(DefaultRenderers, props.renderers), props.classPrefix);\n\n        this.state = {\n            visible: false,\n            expanded: false,\n            popups: []\n        };\n\n        this.currentHoverData = null;\n\n        this.handlers = {\n            onMouseDownOutside: this.onMouseDownOutside.bind(this),\n            onMouseUpInside: this.onMouseUpInside.bind(this),\n            onContextMenuInside: this.onContextMenuInside.bind(this),\n            onClose: this.closeMenu,\n            onMouseOver: this.onMouseOver.bind(this),\n            onMouseOut: this.onMouseOut.bind(this),\n            onTouchStart: this.onTouchStart.bind(this),\n            onTouchEnd: this.onTouchEnd.bind(this),\n            onTouchStartOutside: this.onTouchStartOutside.bind(this)\n        };\n    }\n    //</editor-fold>\n\n    //<editor-fold desc=\"Instance handling\">\n    /**\n     * Only a single menu instance should be visible on screen\n     * Instances do close on window click, however they might get instantiated by other means\n     * (mouse-over the drop-down button etc.)\n     */\n    closeOtherMenuInstances() {\n        var self = this;\n\n        _.forEach(instances, function(instance) {\n            if (instance !== self) {\n                instance.closeMenu();\n            }\n        });\n    }\n\n    /**\n     * Removes this menu from instances array\n     */\n    removeInstance() {\n        var self = this;\n\n        _.remove(instances, function(instance) {\n            return self === instance;\n        });\n    }\n    //</editor-fold>\n\n    //<editor-fold desc=\"Emitter subscribe / unsubscribe\">\n    /**\n     * Event subscription\n     * Happens when menu becomes visible\n     */\n    connectToDispatcher() {\n        MenuEmitter.getInstance().connect(this.handlers);\n    }\n\n    /**\n     * Unsubscribing from events\n     * Happens when menu becomes hidden\n     */\n    disconnectFromDispatcher() {\n        MenuEmitter.getInstance().disconnect(this.handlers);\n    }\n    //</editor-fold>\n\n    //<editor-fold desc=\"Raycast\">\n    /**\n     * Fires on context menu inside of the menu\n     * @param ray\n     */\n    onContextMenuInside(ray) {\n        ray.preventDefault(); // prevent default menu\n    }\n\n    onMouseOver(ray) {\n        var hoverData = HoverDataBuilder.build(this.state.popups, ray),\n            popups;\n\n        if (!hoverData) {\n            return;\n        }\n\n        // keeping the selection\n        // Note: the selection should be changed immediately, so the UI is snappy\n        // however, we're calling the debounced action below, because the child popup should open with delay\n        popups = this.state.popups;\n        popups[hoverData.popupIndex].selectedIndex = hoverData.itemIndex;\n        this.setState({\n            popups\n        });\n\n        this.processInActionDebounced(hoverData, false);\n    }\n\n    onMouseOut(ray) {\n        var hoverData = HoverDataBuilder.build(this.state.popups, ray);\n\n        if (hoverData) {\n            this.processOutActionDebounced(hoverData);\n        }\n    }\n\n    /**\n     * Closes the menu if clicked outside of the menu\n     */\n    onMouseDownOutside() {\n        this.closeMenu();\n    }\n\n    onMouseUpInside(ray) {\n        var hoverData = HoverDataBuilder.build(this.state.popups, ray);\n\n        if (hoverData) {\n            this.onItemClick(hoverData);\n        }\n    }\n\n    onTouchStart(ray) {\n        var hoverData = HoverDataBuilder.build(this.state.popups, ray);\n\n        if (hoverData) {\n            this.processInAction(hoverData, false);\n        }\n    }\n\n    onTouchEnd(ray) {\n        var hoverData = HoverDataBuilder.build(this.state.popups, ray);\n\n        if (hoverData) {\n            this.onItemClick(hoverData);\n        }\n    }\n\n    onTouchStartOutside(ray) {\n        this.closeMenu();\n    }\n\n    onItemClick(hoverData) {\n        var self = this;\n\n        this.processInAction(hoverData, true);\n        if (hoverData.isLeafNode() && !hoverData.isPersistant()) { // leaf node\n            // defer and allow item handlers to be executed\n            _.defer(function() {\n                self.closeMenu();\n            });\n        }\n        this.props.onItemClick(hoverData);\n    }\n    //</editor-fold>\n\n    //<editor-fold desc=\"Actions\">\n    /**\n     * Shows/hides menu\n     * @param visible\n     */\n    setMenuVisibility(visible) {\n        var visibilityChanging = this.state.visible !== visible,\n            isOpening = visibilityChanging && visible,\n            isClosing = visibilityChanging && !visible,\n            self = this,\n            popups;\n\n        if (!visibilityChanging) {\n            return;\n        }\n\n        if (isOpening) {\n            popups = this.createPopup(this.props.items, true);\n        } else if (isClosing) {\n            popups = this.removePopups(0);\n        }\n\n        this.setState({\n            visible,\n            popups\n        }, function() {\n            if (self.state.visible) {\n                this.props.onOpen();\n                this.connectToDispatcher();\n            } else {\n                this.disconnectFromDispatcher();\n            }\n        });\n    }\n\n    /**\n     * Hides menu\n     */\n    closeMenu() {\n        this.setMenuVisibility(false);\n        MenuEmitter.getInstance().unregisterAllParts();\n        this.disconnectFromDispatcher();\n        this.removeInstance();\n        this.processInActionDebounced.cancel();\n        this.processOutActionDebounced.cancel();\n        this.props.onClose();\n    }\n\n    /**\n     * Handles the menu item hover or click action\n     * @param hoverData\n     * @param shouldFireCallback\n     */\n    processInAction(hoverData, shouldFireCallback) {\n        var hoverDataChanged = !hoverData.equals(this.currentHoverData),\n            childItems, popups;\n\n        if (shouldFireCallback && hoverData.hasCallback()) {\n            hoverData.fireCallback(hoverData);\n        }\n\n        if (!hoverDataChanged) {\n            return; // it's a child\n        }\n\n        this.removeChildPopups(hoverData.popupIndex);\n        //if (hoverData.isSiblingOf(this.currentHoverData)) {\n        //    this.removeChildPopups(hoverData.popupIndex);\n        //}\n\n        // set current hover data\n        this.currentHoverData = hoverData;\n\n        // process child items if exist\n        childItems = hoverData.getChildItems();\n        if (!childItems) {\n            return;\n        }\n\n        popups = this.createPopup(childItems);\n\n        this.setState({\n            popups\n        });\n\n        this.props.onItemMouseEnter(hoverData);\n    }\n\n    processOutAction(hoverData) {\n        var hoverDataChanged = !hoverData.equals(this.currentHoverData);\n\n        if (!hoverDataChanged) {\n            return; // it's a child\n        }\n\n        if (!hoverData || // if mouse off menu\n            hoverData && this.shouldRemoveChildPopups(this.currentHoverData, hoverData)) {\n            // remove child popups if hovering over another menu item in the same popup\n            // or hovering the parent popup\n            //this.removeChildPopups(hoverData.popupIndex); // Complex Mac menu behaviour\n            this.props.onItemMouseLeave(hoverData);\n        }\n    }\n    //</editor-fold>\n\n    //<editor-fold desc=\"Create/remove popups\">\n    /**\n     * Removes descendants of a popup specified with popupId and sets the state\n     * @param popupId\n     * @param callback\n     */\n    removeChildPopups(index) {\n        var popups = this.removePopups(index + 1);\n\n        this.setState({\n            popups\n        });\n    }\n\n    /**\n     * Removes popups with an index greater than or equal to startIndex\n     * @param startIndex\n     */\n    removePopups(startIndex) {\n        var popups = startIndex === 0 ? [] : this.state.popups.slice(0, startIndex);\n\n        return popups;\n    }\n\n    createPopup(items, clean) {\n        if (!items) {\n            return;\n        }\n\n        var popups = clean ? [] : this.state.popups.slice(0),\n            id = POPUP_ID_PREFIX + popups.length;\n\n        popups.push({\n            id,\n            items\n        });\n        return popups;\n    }\n    //</editor-fold>\n\n    //<editor-fold desc=\"React\">\n    render() {\n        var level = 0,\n            self = this,\n            alignTo, hints, popup,\n\n            popups = this.state.popups.map(function (data) {\n                alignTo = self.props.alignToFunc.call(self, level),\n                hints = self.props.hints.call(self, level),\n                popup = (\n                    <Liberator\n                        key={'liberator-popup-' + level}\n                        layer={self.props.layer}\n                        layerId={self.props.layerId}\n                        autoCleanup={self.props.autoCleanup}\n                        onActivate={self.activateHandler}>\n                        <MenuPopup\n                            config={self.props.config}\n                            classPrefix={self.props.classPrefix}\n                            key={POPUP_ID_PREFIX + data.id}\n                            popupId={data.id}\n                            items={self.state.popups[level].items}\n                            popupFactory={self.popupFactory}\n                            itemFactory={self.itemFactory}\n                            aligner={self.props.aligner}\n                            alignTo={alignTo}\n                            hints={hints}\n                            useOffset={level !== 0}\n                            selectedIndex={data.selectedIndex} />\n\n                    </Liberator>\n                );\n                level++;\n                return popup;\n            });\n\n        return (\n            <div className='menu' >\n                {popups}\n            </div>\n        );\n    }\n\n    componentDidMount() {\n        if (this.props.autoCloseOtherMenuInstances) {\n            this.closeOtherMenuInstances();\n            instances = [];\n        }\n        this.setMenuVisibility(true);\n        instances.push(this);\n    }\n\n    componentWillUpdate(nextProps, nextState) {\n        if (nextState.visible) {\n            this.connectToDispatcher();\n        } else {\n            this.disconnectFromDispatcher();\n        }\n    }\n\n    activateHandler(e) {\n        layerElement = e.layer;\n        MenuEmitter.getInstance().registerPart(layerElement, false);\n    }\n    //</editor-fold>\n\n    //<editor-fold desc=\"Helper\">\n\n    /**\n     * Returns true if child popups should be removed\n     * The decision is made based on depth of currently hovered popup\n     * @param hoverData\n     * @param popupId\n     * @returns {*}\n     */\n    shouldRemoveChildPopups(previousHoverData, hoverData) {\n        return previousHoverData &&\n            previousHoverData.popupIndex >= hoverData.popupIndex;\n    }\n    //</editor-fold>\n}\n\n//<editor-fold desc=\"Props\">\nMenu.propTypes = {\n    config: React.PropTypes.object, // config object visiting each menu item\n    classPrefix: React.PropTypes.string, // CSS class prefix for all the classes used by this menu\n    items: React.PropTypes.array.isRequired, // menu items (data)\n    renderers: React.PropTypes.object, // item renderers\n    mouseEnterDelay: React.PropTypes.number,\n    mouseLeaveDelay: React.PropTypes.number,\n    autoCloseOtherMenuInstances: React.PropTypes.bool, // should opening of a menu close other (currently open) menu instances\n    onOpen: React.PropTypes.func,\n    onClose: React.PropTypes.func,\n    onItemMouseEnter: React.PropTypes.func,\n    onItemMouseLeave: React.PropTypes.func,\n    onItemClick: React.PropTypes.func,\n    hints: React.PropTypes.func,\n    alignToFunc: React.PropTypes.func,\n    layer: React.PropTypes.node,\n    layerId: React.PropTypes.string,\n    autoCleanup: React.PropTypes.bool // Liberator's empty layer auto cleanup\n};\nMenu.defaultProps = {\n    config: {},\n    classPrefix: '',\n    items: [],\n    aligner: new Aligner(),\n    mouseEnterDelay: MOUSE_ENTER_DELAY,\n    mouseLeaveDelay: MOUSE_LEAVE_DELAY,\n    autoCloseOtherMenuInstances: true,\n    onOpen() {},\n    onClose() {},\n    onItemMouseEnter() {},\n    onItemMouseLeave() {},\n    onItemClick() {},\n    hints: HINTS,\n    alignToFunc: ALIGN_TO,\n    layer: null,\n    layerId: DEFAULT_LAYER_ID,\n    autoCleanup: true\n};\n//</editor-fold>\n\n\n// WEBPACK FOOTER //\n// ./components/Menu.js","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"lodash\",\"commonjs2\":\"lodash\",\"amd\":\"lodash\",\"root\":\"Lodash\"}\n// module id = 2\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\",\"root\":\"React\"}\n// module id = 3\n// module chunks = 0","import RectUtil from './/RectUtil.js';\nimport RectAlign from './RectAlign.js';\nimport ViewportUtil from './ViewportUtil.js';\n\nexport default class Aligner {\n\n    align(target, alignTo, hints, handle) {\n        var offset = {\n                x: 0,\n                y: 0\n            },\n            targetRect,\n            alignToRect,\n            viewportRect,\n            targetHandle,\n            position;\n\n        if (alignTo) {\n            if (alignTo.x && alignTo.y) {\n                alignToRect = RectUtil.getZeroRectAtPosition(alignTo);\n            } else {\n                alignToRect = RectUtil.getBoundingRect(alignTo);\n            }\n\n            targetRect = RectUtil.getBoundingRect(target),\n            viewportRect = ViewportUtil.getRect();\n\n            targetHandle = handle ?\n                RectUtil.getBoundingRect(handle) :\n                RectUtil.cloneRect(targetRect);\n\n            var rectAlign = new RectAlign({\n                body: viewportRect,\n                handle: alignToRect\n            }, {\n                body: targetRect,\n                handle: targetHandle\n            });\n\n            position = rectAlign.getPosition(hints);\n\n            target.style.left = (position.x + offset.x) + 'px';\n            target.style.top = (position.y + offset.y) + 'px';\n        }\n\n        return position;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./util/Aligner.js","export default class RectUtil {\n\n    static getBoundingRect(element) {\n        // gets DOMRect object with six properties: left, top, right, bottom, width, height\n        var bounds = element.getBoundingClientRect();\n\n        return {\n            left: bounds.left,\n            right: bounds.right,\n            top: bounds.top,\n            bottom: bounds.bottom,\n            width: bounds.width,\n            height: bounds.height\n        }\n    }\n\n    static getZeroRectAtPosition(position) {\n        return {\n            left: position.x,\n            right: position.x,\n            top: position.y,\n            bottom: position.y,\n            width: 0,\n            height: 0\n        }\n    }\n\n    static cloneRect(bounds) {\n        return {\n            left: bounds.left,\n            right: bounds.right,\n            top: bounds.top,\n            bottom: bounds.bottom,\n            width: bounds.width,\n            height: bounds.height\n        }\n    }\n\n    static moveRect(bounds, delta) {\n        return {\n            left: bounds.left + delta.x,\n            right: bounds.right + delta.x,\n            top: bounds.top + delta.y,\n            bottom: bounds.bottom + delta.y,\n            width: bounds.width,\n            height: bounds.height\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./util/RectUtil.js","import RectUtil from './RectUtil.js';\n\nexport var RectAlignSide = {\n    NORTH: 'n',\n    SOUTH: 's',\n    EAST: 'e',\n    WEST: 'w',\n};\n\nexport var RectAlignAnchor = {\n    START: 's',\n    MIDDLE: 'm',\n    END: 'e'\n};\n\nexport default class RectAlign {\n\n    constructor(aligner, target) {\n        this.aligner = aligner;\n        this.target = target;\n    }\n\n    getPosition(hints) {\n        var tries = [], \n            success = {\n                x: -1,\n                y: -1\n            },\n            position;\n\n        hints.find(function(hint) {\n            tries.push(hint);\n            position = this.tryHint(hint);\n            if (position.fitsX && success.x === -1) {\n                success.x = position.x;\n            }\n            if (position.fitsY && success.y === -1) {\n                success.y = position.y;\n            }\n            if (position.fits) {\n                return true;\n            }\n            return false;\n        }, this);\n\n        if (!position || !position.fits) {\n            position = this.getFallbackPosition(position, success, hints);\n        }\n        //console.log('Final: ' + position.direction + ' (tries: ' + tries.toString() + ' of ' +  hints.toString() + ')');\n        return position;\n    }\n\n    getFallbackPosition(position, success, hints) {\n        var aligner = this.aligner,\n            target = this.target,\n            preferredPosition, position, closerToLeft, closerToTop, left, right, top, bottom;\n\n        // doesn't fit in any direction\n        // settle closest to the first hint\n        preferredPosition = this.tryHint(hints[0]);\n        if (!preferredPosition.fitsX) {\n            if (success.x !== -1) {\n                preferredPosition.x = success.x;\n            } else {\n                left = target.body.left;\n                right = aligner.body.width - target.body.width;\n                closerToLeft = left < right;\n                preferredPosition.x = closerToLeft ? 0 : (aligner.body.width - target.body.width);\n            }            \n        }\n        if (!preferredPosition.fitsY) {\n            if (success.y !== -1) {\n                preferredPosition.y = success.y;\n            } else {\n                top = target.body.top;\n                bottom = aligner.body.height - target.body.height;\n                closerToTop = top < bottom;\n                preferredPosition.y = closerToTop ? 0 : (aligner.body.height - target.body.height);\n            }\n        }\n\n        //console.log('Final: ' + position.direction + ' (tries: ' + tries.toString() + ' of ' +  hints.toString() + ')');\n        return preferredPosition;\n    }\n\n    tryHint(hint) {\n        var aligner = this.aligner,\n            target = this.target,\n            offset = {x: target.body.left - target.handle.left, y: target.body.top - target.handle.top},\n            side = hint[0],\n            position = hint[1],\n            x, y, fitsX, fitsY, fits;\n\n        switch (side) {\n            case RectAlignSide.EAST:\n                x = aligner.handle.right;\n                break;\n            case RectAlignSide.WEST:\n                x = aligner.handle.left - target.body.width;\n                break;\n            case RectAlignSide.NORTH:\n                y = aligner.handle.top - target.body.height;\n                break;\n            case RectAlignSide.SOUTH:\n                y = aligner.handle.bottom;\n                break;\n            default:\n                throw 'Unknown side: ' + side;\n        }\n\n        switch (side) {\n            case RectAlignSide.EAST:\n            case RectAlignSide.WEST:\n                switch (position) {\n                    case RectAlignAnchor.START:\n                        y = aligner.handle.top;\n                        break;\n                    case RectAlignAnchor.MIDDLE:\n                        y = (aligner.handle.top + aligner.handle.bottom) / 2 - target.body.height / 2;\n                        break;\n                    case RectAlignAnchor.END:\n                        y = aligner.handle.bottom - target.body.height;\n                        break;\n                    default:\n                        throw 'Unknown position: ' + position;\n                }\n                break;\n            case RectAlignSide.NORTH:\n            case RectAlignSide.SOUTH:\n                switch (position) {\n                    case RectAlignAnchor.START:\n                        x = aligner.handle.left;\n                        break;\n                    case RectAlignAnchor.MIDDLE:\n                        x = (aligner.handle.left + aligner.handle.right) / 2 - target.body.width / 2;\n                        break;\n                    case RectAlignAnchor.END:\n                        x = aligner.handle.right - target.body.width;\n                        break;\n                    default:\n                        throw 'Unknown position: ' + position;\n                }\n                break;\n            default:\n                throw 'Unknown side: ' + side;\n        }\n\n        // add offset\n        x += offset.x;\n        y += offset.y;\n\n        fitsX = x >= 0 && (x + target.body.width <= aligner.body.width); \n        fitsY = y >= 0 && (y + target.body.height <= aligner.body.height); \n        fits = fitsX && fitsY;\n\n        return {\n            x,\n            y,\n            fitsX,\n            fitsY,\n            fits,\n            direction: hint\n        }\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./util/RectAlign.js","export default class ViewportUtil {\n\n    static getRect() {\n        var doc = document.documentElement,\n            body = document.body;\n\n        return {\n            x: 0,\n            y: 0,\n            width: window.innerWidth || doc.clientWidth || body.clientWidth,\n            height: window.innerHeight || doc.clientHeight || body.clientHeight\n        };\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./util/ViewportUtil.js","import { Button } from './ButtonRenderer.js';\nimport { Label } from './LabelRenderer.js';\nimport { Separator } from './SeparatorRenderer.js';\n\nexport const DefaultRenderers = {\n    'button': Button,\n    'label': Label,\n    '-': Separator\n}\n\n\n// WEBPACK FOOTER //\n// ./renderers/defaultRenderers.js","import React, { Component } from 'react';\nimport Dom from './../util/Dom';\n\nvar classnames = require('classnames');\n\nexport class Button extends Component {\n    render() {\n        var className = classnames(this.props.className, Dom.buildClassNames(this.props.classPrefix, ['menu-item-button'])),\n            data = this.props.data,\n            chevron = this.props.isExpandable ? <span className='fa fa-chevron-right fa-fw'></span> : null;\n\n        return (\n            <button {...data.handlers} key={data.key} id={data.id} className={className}>\n                {data.title}\n                {chevron}\n            </button>\n        );\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./renderers/ButtonRenderer.js","export default class Dom {\n    /**\n     * Returns true if parent element contains child, or parent is child\n     * @param parentElement\n     * @param childElement\n     * @returns {boolean}\n     */\n    static contains(parentElement, childElement) {\n        if (childElement == parentElement) {\n            return true;\n        }\n        var node = childElement.root;\n        while (node != null) {\n            if (node == parentElement) {\n                return true;\n            }\n            node = node.root;\n        }\n        return false;\n    }\n\n    /**\n     * @param classPrefix string\n     * @param classNames Array of strings\n     * @returns {{}} Map of class names\n     */\n    static buildClassNames(classPrefix, classNames) {\n        var len = classNames.length,\n            obj = {},\n            className,\n            i;\n\n        for (i = 0; i < len; i ++) {\n            className = classNames[i];\n            obj[classPrefix + className] = !!className; // only if className defined\n        }\n\n        return obj;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./util/Dom.js","/*!\n  Copyright (c) 2016 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tclasses.push(classNames.apply(null, arg));\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/classnames/index.js\n// module id = 11\n// module chunks = 0","import React, { Component } from 'react';\nimport Dom from './../util/Dom';\n\nvar classnames = require('classnames');\n\nexport class Label extends Component {\n    render() {\n        var className = classnames(this.props.className, Dom.buildClassNames(this.props.classPrefix, ['menu-item-label'])),\n        data = this.props.data;\n\n        return (\n            <label key={data.key} id={data.id} className={className} >\n                {data.title}\n            </label>\n        );\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./renderers/LabelRenderer.js","import React, { Component } from 'react';\nimport Dom from './../util/Dom';\n\nvar classnames = require('classnames');\n\nexport class Separator extends Component {\n    render() {\n        var className = classnames(this.props.className, Dom.buildClassNames(this.props.classPrefix, ['menu-item-separator']));\n\n        return (\n            <hr className={className} key={this.props.key} />\n        )\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./renderers/SeparatorRenderer.js","export default class HoverData {\n    constructor(popupId, itemId, popupIndex, itemIndex, element, data) {\n        this.popupId = popupId;\n        this.itemId = itemId;\n        this.popupIndex = popupIndex;\n        this.itemIndex = itemIndex;\n        this.element = element;\n        this.data = data;\n    }\n\n    getChildItems() {\n        return this.data.items;\n    }\n\n    isLeafNode() {\n        return !this.data.items || this.data.items.length === 0;\n    }\n\n    isPersistant() {\n        return this.data.persist;\n    }\n\n    isExpandable() {\n        return this.data.items && this.data.items.length > 0;\n    }\n\n    getElement() {\n        return this.element;\n    }\n\n    hasCallback() {\n        return !!this.data.callback;\n    }\n\n    fireCallback() {\n        if (!this.hasCallback) {\n            throw 'HoverData: no callback defined';\n        }\n        return this.data.callback(arguments);\n    }\n\n    /**\n     * Returns true for the same item, having the same parent\n     * @param other\n     * @returns {boolean}\n     */\n    equals(other) {\n        return !!other && this.popupId === other.popupId && this.itemId === other.itemId;\n    }\n\n    /**\n     * Returns true for two different items having the same parent\n     * @param other\n     * @returns {boolean}\n     */\n    isSiblingOf(other) {\n        return !!other && this.popupId === other.popupId && this.itemId !== other.itemId;\n    }\n\n    isChildOf(other) {\n        if (!other || !other.items) {\n            return false;\n        }\n        return _.some(other.items, function(item) {\n            return item.itemId === this.itemId;\n        });\n    }\n\n    isParentTo(other) {\n        if (!other || !this.items) {\n            return false;\n        }\n        return _.some(this.items, function(item) {\n            return this.itemId === item.itemId;\n        });\n    }\n\n    toString() {\n        return 'HoverData [popupId: ' + this.popupId + '; itemId: ' + this.itemId + '; itemIndex: ' + this.itemIndex + ']';\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./util/hoverData.js","import _ from 'lodash';\nimport HoverData from './hoverData';\nimport { ITEM_ID_PREFIX } from './../components/MenuPopup';\nimport { POPUP_ID_PREFIX } from './../components/Menu';\n\nexport default class HoverDataBuilder {\n\n    static build(popups, ray) {\n        var data = {},\n            popupElement = ray.intersectsId(POPUP_ID_PREFIX),\n            itemElement = ray.intersectsId(ITEM_ID_PREFIX),\n            hoverData, popupId, popupIndex, itemId, itemIndex;\n\n        if (popupElement && itemElement) {\n            popupId = popupElement.id;\n            popupIndex = parseInt(popupId.split(POPUP_ID_PREFIX)[1]);\n            itemId = itemElement.id;\n            itemIndex = parseInt(itemId.split(ITEM_ID_PREFIX)[1]);\n            data = popups[popupIndex].items[itemIndex];\n            hoverData = new HoverData(popupId, itemId, popupIndex, itemIndex, itemElement, data);\n        }\n\n        return hoverData;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./util/hoverDataBuilder.js","import _ from 'lodash';\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport Aligner from './../util/Aligner.js';\nimport HoverData from './../util/hoverData.js';\n\nexport const ITEM_ID_PREFIX = 'menu-item-';\n\nconst DEFAULT_ITEM_RENDERER_TYPE = 'button';\n\nvar classnames = require('classnames');\n\nexport default class MenuPopup extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.aligner = this.props.aligner;\n        this.state = {\n            showing: false\n        };\n    }\n\n    render() {\n        var index = 0,\n            classPrefix = this.props.classPrefix,\n            selectedIndex = this.props.selectedIndex,\n            popupFactory = this.props.popupFactory,\n            itemFactory = this.props.itemFactory,\n            self = this,\n            key, children, menuItem, styles;\n\n        children = this.props.items ? this.props.items.map(function (data) {\n            var classes = {};\n\n            key = ITEM_ID_PREFIX + index;\n\n            if (selectedIndex === index) {\n                classes[classPrefix + 'menu-item-selected'] = true;\n            }\n\n            data = self.expandDescriptor(data);\n\n            menuItem = itemFactory.createItem(_.assign({}, data, {\n                id: key\n            }), key, classnames(classes), self.props.config);\n\n            index ++;\n\n            return (menuItem);\n        }): null;\n\n        styles = {\n            position: 'fixed',\n            left: this.props.x + 'px',\n            top: this.props.y + 'px'\n        };\n\n        return popupFactory.createItem(_.assign({}, {\n            popupId: this.props.popupId,\n            styles,\n            children,\n            showing: this.state.showing\n        }));\n    }\n\n    componentDidMount() {\n        var classPrefix = this.props.classPrefix,\n            position;\n\n        // measure DOM\n        if (!this.dom) {\n            this.dom = ReactDOM.findDOMNode(this);\n            this.dom.style.position = 'fixed';\n        }\n\n        // align\n        position = this.aligner.align(this.dom, this.props.alignTo, this.props.hints, this.props.useOffset ? this.dom.firstChild : null);\n\n        // bake some of the position information into popups' className\n        if (!position.fitsX) {\n            // if popup doesn't horizontally fit the screen, add this class name\n            // this could be used to introduce scroll etc.\n            this.dom.className += ' ' + classPrefix + 'menu-popup-overflow-x';\n        }\n        if (!position.fitsY) {\n            // if popup doesn't vertically fit the screen, add this class name\n            this.dom.className += ' ' + classPrefix + 'menu-popup-overflow-y';\n        }\n        if (position.direction) {\n            // styling different positions ('menu-popup-align-es', 'menu-popup-align-se' etc.)\n            this.dom.className += ' ' + classPrefix + 'menu-popup-align-' + position.direction;\n        }\n\n        this.setState({\n            showing: true\n        });\n    }\n\n    /**\n     * Expands string descriptor to object descriptor\n     * @param data\n     * @returns {*}\n     */\n    expandDescriptor(data) {\n        if (typeof data === 'string') {\n            return {\n                type: data\n            }\n        }\n        if (!data.type) {\n            data.type = DEFAULT_ITEM_RENDERER_TYPE;\n        }\n        return data;\n    }\n}\nMenuPopup.propTypes = {\n    config: React.PropTypes.object, // config object visiting every menu item\n    classPrefix: React.PropTypes.string,\n    x: React.PropTypes.number,\n    y: React.PropTypes.number,\n    items: React.PropTypes.arrayOf(React.PropTypes.oneOfType([React.PropTypes.object, React.PropTypes.string])),\n    popupId: React.PropTypes.string.isRequired,\n    useOffset: React.PropTypes.bool.isRequired,\n    hints: React.PropTypes.arrayOf(React.PropTypes.string).isRequired,\n    selectedIndex: React.PropTypes.number.isRequired\n};\nMenuPopup.defaultProps = {\n    classPrefix: '',\n    x: 0,\n    y: 0,\n    items: [],\n    alignTo: null,\n    useOffset: false,\n    selectedIndex: -1\n};\n\n\n\n// WEBPACK FOOTER //\n// ./components/MenuPopup.js","module.exports = __WEBPACK_EXTERNAL_MODULE_17__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"react-dom\",\"commonjs2\":\"react-dom\",\"amd\":\"react-dom\",\"root\":\"ReactDOM\"}\n// module id = 17\n// module chunks = 0","import _ from 'lodash';\nimport ClickUtil from './../util/click';\n\nvar EmitterPlug = require('raycast-dom').EmitterPlug.default;\n\nconst TAP_AND_HOLD_INTERVAL = 250;\n\nvar parts = [],\n    instance,\n    touchTimeout;\n\n/**\n * Checks if any of the parts is within the clicked ray\n * @param ray The Ray to check\n * @param includeToggleParts Should we treat toggle parts as parts menu parts\n * @returns {boolean}\n */\nfunction isMenuPartClicked(ray, includeToggleParts) {\n    return _.some(parts, function (part) {\n        var shouldIncludeThisPart = includeToggleParts || !part.isToggle;\n\n        return shouldIncludeThisPart && ray.intersects(part.element);\n    });\n}\n\n/**\n * Checks if any of the toggle parts is within the clicked ray\n * @param ray The Ray to check\n * @returns {boolean}\n */\nfunction isTogglePartClicked(ray) {\n    return _.some(parts, function (part) {\n        return part.isToggle && ray.intersects(part.element);\n    });\n}\n\n/**\n * Subscribes to browser events (click, contextmenu, touchstart, touchend, resize and scroll)\n * Dispatches 3 types of events - used by the menu system - by registering handlers and firing them\n * It basically *converts* browser events to another type of events\n * The choice of triggered handlers depends of:\n * 1. is the menu currently on screen\n * 2. do we click inside or outside of the menu\n * 3. do we click/contextmenu or tap/tap-and-hold\n */\nexport default class MenuEmitter extends EmitterPlug {\n\n    //<editor-fold desc=\"Singleton\">\n    static getInstance() {\n        if (!instance) {\n            instance = new MenuEmitter();\n        }\n        return instance;\n    }\n    //</editor-fold>\n\n    //<editor-fold desc=\"Constructor\">\n    constructor() {\n        super();\n\n        this.dispatchInteraction = this.dispatchInteraction.bind(this);\n        this.dispatchClose = this.dispatchClose.bind(this);\n\n        this.handlers = {\n            onMouseOver: this.onMouseOver.bind(this),\n            onMouseOut: this.onMouseOut.bind(this),\n            onMouseDown: this.onMouseDown.bind(this),\n            onMouseUp: this.onMouseUp.bind(this),\n            onContextMenu: this.onContextMenu.bind(this),\n            onTouchStart: this.onTouchStart.bind(this),\n            onTouchEnd: this.onTouchEnd.bind(this),\n            onResize: this.dispatchClose,\n            onScroll: this.dispatchClose\n        }\n    }\n    //</editor-fold>\n\n    //<editor-fold desc=\"Menu part registration\">\n    /**\n     * Registers menu part\n     * This is used for differentiating between clicking the menu and outside of the menu\n     * @param element\n     */\n    registerPart(element, isToggle) {\n        parts.push({\n            element,\n            isToggle\n        });\n    }\n\n    /**\n     * Unregisters all menu parts\n     */\n    unregisterAllParts() {\n        parts = [];\n    }\n    //</editor-fold>\n\n    //<editor-fold desc=\"Evaluation and firing\">\n    /**\n     * @param handlerName\n     * @param ray Emitter ray\n     * @param closeMenu Should we close the menu\n     * @returns {boolean} True if happened outside\n     */\n    dispatchInteraction(handlerName, ray, closeMenu) {\n        // 1. close the current menu if needed\n        if (closeMenu) {\n            this.dispatchClose(ray);\n        }\n        // 2. fire the requested handler\n        this.emit(handlerName, ray);\n    }\n\n    /**\n     * Dispatches the close event\n     */\n    dispatchClose(ray) {\n        this.unregisterAllParts();\n        this.emit(MenuEmitter.ON_CLOSE);\n    }\n    //</editor-fold>\n\n    //<editor-fold desc=\"Mouse\">\n    onMouseDown(ray) {\n        this.isMenuCurrentlyOpen = !parts.length;\n\n        var isInside;\n\n        if (!ClickUtil.isGhostClick(ray)) {  // avoid ghost 'click' event on touch devices\n            // we're ignoring toggle parts here\n            // for instance, if dropdown button is in toggleMode, it is a toggle part\n            // if the menu is open and we click the button, the menu should close\n            isInside = isMenuPartClicked(ray, false);\n            if (isInside) {\n                this.dispatchInteraction(MenuEmitter.ON_MOUSE_DOWN_INSIDE, ray);\n            } else if (!this.isMenuCurrentlyOpen) {\n                this.dispatchInteraction(MenuEmitter.ON_MOUSE_DOWN_OUTSIDE, ray, true);\n            }\n        }\n    }\n\n    /**\n     * Fired on document body mouse up\n     * If we're on touch interface - do nothing\n     * @param e\n     */\n    onMouseUp(ray) {\n        var isInside;\n\n        if (!ClickUtil.isGhostClick(ray)) {  // avoid ghost 'click' event on touch devices\n            // we're ignoring toggle parts here\n            // we're checking only if this was mouseup inside, which would trigger an item when opening the menu with click-and-drag\n            isInside = isMenuPartClicked(ray, false);\n            if (isInside) {\n                this.dispatchInteraction(MenuEmitter.ON_MOUSE_UP_INSIDE, ray);\n            }\n        }\n    }\n\n    /**\n     * Context menu handler\n     * Inside our app root, we will prevent default\n     * However, here we'll dispatch ON_CONTEXT_MENU_INSIDE or ON_CONTEXT_MENU_OUTSIDE\n     * The menu takes care of preventing default when ON_CONTEXT_MENU_INSIDE\n     * The app takes care of preventing default when ON_CONTEXT_MENU_OUTSIDE\n     * @param e\n     */\n    onContextMenu(ray) {\n        var isInside;\n\n        if (ClickUtil.isGhostClick(ray)) {\n            ray.preventDefault(); // avoid ghost 'contextmenu' event on touch devices\n        } else {\n            isInside = isMenuPartClicked(ray, false);\n            if (isInside) {\n                this.dispatchInteraction(MenuEmitter.ON_CONTEXT_MENU_INSIDE, ray);\n            } else {\n                this.dispatchInteraction(MenuEmitter.ON_CONTEXT_MENU_OUTSIDE, ray);\n            }\n        }\n    }\n\n    onMouseOver(ray) {\n        this.createRayAndEmit(MenuEmitter.ON_MOUSE_OVER, document, ray);\n    }\n\n    onMouseOut(ray) {\n        this.createRayAndEmit(MenuEmitter.ON_MOUSE_OUT, document, ray);\n    }\n\n    //</editor-fold>\n\n    //<editor-fold desc=\"Touch\">\n    /**\n     * Fires on document body touchstart\n     * We're switching to touch mode upon each touch\n     * onClick handler checks if we're in touch mode and does not fire (preventing ghost clicks)\n     * Ghost clicks: http://ariatemplates.com/blog/2014/05/ghost-clicks-in-mobile-browsers/\n     * @param e\n     */\n    onTouchStart(ray) {\n        var self = this,\n            touch = ray.e.changedTouches[0],\n            isInside;\n\n            ray.position = {\n                x: touch.clientX,\n                y: touch.clientY\n            };\n\n        isInside = isMenuPartClicked(ray, false);\n\n        if (isInside) {\n            // on tap, trigger the click handler\n            this.dispatchInteraction(MenuEmitter.ON_TOUCH_START_INSIDE, ray);\n        } else {\n            this.dispatchInteraction(MenuEmitter.ON_TOUCH_START_OUTSIDE, ray, true);\n            // after a delay (tap and hold) trigger the context menu handler\n            touchTimeout = setTimeout(function() {\n                // we're producing the 'onContextMenu' event on tap-and-hold\n                // because of that, we might have tapped the drop-down button, which opened the menu\n                // we're still within this timeout interval, waiting to dispatch ON_CONTEXT_MENU\n                // however, if the button is in toggle mode, this action would close the menu\n                // since we don't want this to happen, we are ignoring the toggle parts here\n                isInside = isMenuPartClicked(ray, true); // include toggle parts\n                if (!isInside) {\n                    self.dispatchInteraction(MenuEmitter.ON_CONTEXT_MENU_OUTSIDE, ray, true); // close menu\n                }\n            }, TAP_AND_HOLD_INTERVAL);\n        }\n    }\n\n    /**\n     * Fires on document body touchend\n     * @param e\n     */\n    onTouchEnd(ray) {\n        var touch = ray.e.changedTouches[0],\n            isInside;\n\n        ray.position = {\n            x: touch.clientX,\n            y: touch.clientY\n        };\n\n        // reset the tap-and-hold timer\n        clearTimeout(touchTimeout);\n\n        isInside = isMenuPartClicked(ray, false);\n\n        if (isInside) {\n            this.dispatchInteraction(MenuEmitter.ON_TOUCH_END_INSIDE, ray);\n        }\n    }\n    //</editor-fold>\n}\n\n//<editor-fold desc=\"Constants\">\nMenuEmitter.ON_MOUSE_OVER = 'onMouseOver'; // for opening child popups\nMenuEmitter.ON_MOUSE_OUT = 'onMouseOut'; // for closing child popups\nMenuEmitter.ON_TOUCH_START_INSIDE = 'onTouchStart';\nMenuEmitter.ON_TOUCH_END_INSIDE = 'onTouchEnd';\nMenuEmitter.ON_TOUCH_START_OUTSIDE = 'onTouchStartOutside';\nMenuEmitter.ON_MOUSE_UP_INSIDE = 'onMouseUpInside'; // when menu part clicked\nMenuEmitter.ON_MOUSE_DOWN_INSIDE = 'onMouseDownInside'; // when menu part clicked\nMenuEmitter.ON_MOUSE_DOWN_OUTSIDE = 'onMouseDownOutside'; // when clicked outside of the menu\nMenuEmitter.ON_CONTEXT_MENU_INSIDE = 'onContextMenuInside'; // when menu part right-clicked\nMenuEmitter.ON_CONTEXT_MENU_OUTSIDE = 'onContextMenuOutside'; // when right-clicked outside of the menu\nMenuEmitter.ON_CLOSE = 'onClose'; // when menu has to close\n//</editor-fold>\n\n\n// WEBPACK FOOTER //\n// ./emitters/MenuEmitter.js","export default class ClickUtil {\n\n    static isGhostClick(ray) {\n        return ClickUtil.isGhostClickEvent(ray.e);\n    }\n\n    static isGhostClickEvent(e) {\n        return e.sourceCapabilities && e.sourceCapabilities.firesTouchEvents;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./util/click.js","module.exports.Emitter = require('./build/Emitter');\nmodule.exports.EmitterBase = require('./build/EmitterBase');\nmodule.exports.EmitterPlug = require('./build/EmitterPlug');\nmodule.exports.Ray = require('./build/Ray');\nmodule.exports.evaluateID = require('./build/lookup/evaluateID');\nmodule.exports.evaluateClassName = require('./build/lookup/evaluateClassName');\nmodule.exports.evaluateReactID = require('./build/lookup/evaluateReactID');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/raycast-dom/index.js\n// module id = 20\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _EmitterBase2 = require('./EmitterBase');\n\nvar _EmitterBase3 = _interopRequireDefault(_EmitterBase2);\n\nvar _Ray = require('./Ray');\n\nvar _Ray2 = _interopRequireDefault(_Ray);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// [event name, event handler name]\nvar ON_MOUSE_OVER = ['mouseover', 'onMouseOver'],\n    ON_MOUSE_OUT = ['mouseout', 'onMouseOut'],\n    ON_MOUSE_ENTER = ['mouseenter', 'onMouseEnter'],\n    ON_MOUSE_LEAVE = ['mouseleave', 'onMouseLeave'],\n    ON_MOUSE_DOWN = ['mousedown', 'onMouseDown'],\n    ON_MOUSE_UP = ['mouseup', 'onMouseUp'],\n    ON_MOUSE_MOVE = ['mousemove', 'onMouseMove'],\n    ON_CLICK = ['click', 'onClick'],\n    ON_DOUBLE_CLICK = ['doubleclick', 'onDoubleClick'],\n    ON_CONTEXT_MENU = ['contextmenu', 'onContextMenu'],\n    ON_TOUCH_START = ['touchstart', 'onTouchStart'],\n    ON_TOUCH_END = ['touchend', 'onTouchEnd'],\n    ON_TOUCH_MOVE = ['touchmove', 'onTouchMove'],\n    ON_TOUCH_CANCEL = ['touchcancel', 'onTouchCancel'],\n    ON_CHANGE = ['change', 'onChange'],\n    ON_INPUT = ['input', 'onInput'],\n    ON_SUBMIT = ['submit', 'onSubmit'],\n    ON_FOCUS = ['focus', 'onFocus'],\n    ON_BLUR = ['blur', 'onBlur'],\n    ON_KEY_DOWN = ['keydown', 'onKeyDown'],\n    ON_KEY_UP = ['keyup', 'onKeyUp'],\n    ON_PRESS = ['press', 'onPress'],\n    ON_WHEEL = ['wheel', 'onWheel'],\n    ON_RESIZE = ['resize', 'onResize'],\n    ON_SCROLL = ['scroll', 'onScroll'];\n\nvar instance;\n\n/**\n * Subscribes to browser events (click, contextmenu, touchstart, touchend, resize and scroll)\n * Dispatches 3 types of events - used by the menu system - by registering handlers and firing them\n * It basically *converts* browser events to another type of events\n * The choice of triggered handlers depends of:\n * 1. is the menu currently on screen\n * 2. do we click inside or outside of the menu\n * 3. do we click/contextmenu or tap/tap-and-hold\n */\n\nvar Emitter = function (_EmitterBase) {\n    _inherits(Emitter, _EmitterBase);\n\n    _createClass(Emitter, null, [{\n        key: 'getInstance',\n\n\n        //<editor-fold desc=\"Singleton\">\n        value: function getInstance() {\n            if (!instance) {\n                instance = new Emitter();\n            }\n            return instance;\n        }\n        //</editor-fold>\n\n        //<editor-fold desc=\"Constructor\">\n\n    }]);\n\n    function Emitter() {\n        _classCallCheck(this, Emitter);\n\n        // document\n        var _this = _possibleConstructorReturn(this, (Emitter.__proto__ || Object.getPrototypeOf(Emitter)).call(this));\n\n        _this[ON_MOUSE_OVER[1]] = _lodash2.default.bind(_this.createRayAndEmit, _this, ON_MOUSE_OVER[1], document);\n        _this[ON_MOUSE_OUT[1]] = _lodash2.default.bind(_this.createRayAndEmit, _this, ON_MOUSE_OUT[1], document);\n        _this[ON_MOUSE_ENTER[1]] = _lodash2.default.bind(_this.createRayAndEmit, _this, ON_MOUSE_ENTER[1], document);\n        _this[ON_MOUSE_LEAVE[1]] = _lodash2.default.bind(_this.createRayAndEmit, _this, ON_MOUSE_LEAVE[1], document);\n        _this[ON_MOUSE_DOWN[1]] = _lodash2.default.bind(_this.createRayAndEmit, _this, ON_MOUSE_DOWN[1], document);\n        _this[ON_MOUSE_UP[1]] = _lodash2.default.bind(_this.createRayAndEmit, _this, ON_MOUSE_UP[1], document);\n        _this[ON_MOUSE_MOVE[1]] = _lodash2.default.bind(_this.createRayAndEmit, _this, ON_MOUSE_MOVE[1], document);\n        _this[ON_CLICK[1]] = _lodash2.default.bind(_this.createRayAndEmit, _this, ON_CLICK[1], document);\n        _this[ON_DOUBLE_CLICK[1]] = _lodash2.default.bind(_this.createRayAndEmit, _this, ON_DOUBLE_CLICK[1], document);\n        _this[ON_CONTEXT_MENU[1]] = _lodash2.default.bind(_this.createRayAndEmit, _this, ON_CONTEXT_MENU[1], document);\n        _this[ON_TOUCH_START[1]] = _lodash2.default.bind(_this.createRayAndEmit, _this, ON_TOUCH_START[1], document);\n        _this[ON_TOUCH_END[1]] = _lodash2.default.bind(_this.createRayAndEmit, _this, ON_TOUCH_END[1], document);\n        _this[ON_TOUCH_MOVE[1]] = _lodash2.default.bind(_this.createRayAndEmit, _this, ON_TOUCH_MOVE[1], document);\n        _this[ON_TOUCH_CANCEL[1]] = _lodash2.default.bind(_this.createRayAndEmit, _this, ON_TOUCH_CANCEL[1], document);\n        _this[ON_MOUSE_OVER[1]] = _lodash2.default.bind(_this.createRayAndEmit, _this, ON_MOUSE_OVER[1], document);\n        _this[ON_MOUSE_OVER[1]] = _lodash2.default.bind(_this.createRayAndEmit, _this, ON_MOUSE_OVER[1], document);\n        _this[ON_CHANGE[1]] = _lodash2.default.bind(_this.createRayAndEmit, _this, ON_CHANGE[1], document);\n        _this[ON_INPUT[1]] = _lodash2.default.bind(_this.createRayAndEmit, _this, ON_INPUT[1], document);\n        _this[ON_SUBMIT[1]] = _lodash2.default.bind(_this.createRayAndEmit, _this, ON_SUBMIT[1], document);\n        _this[ON_FOCUS[1]] = _lodash2.default.bind(_this.createRayAndEmit, _this, ON_FOCUS[1], document);\n        _this[ON_BLUR[1]] = _lodash2.default.bind(_this.createRayAndEmit, _this, ON_BLUR[1], document);\n        _this[ON_KEY_DOWN[1]] = _lodash2.default.bind(_this.createRayAndEmit, _this, ON_KEY_DOWN[1], document);\n        _this[ON_KEY_UP[1]] = _lodash2.default.bind(_this.createRayAndEmit, _this, ON_KEY_UP[1], document);\n        _this[ON_PRESS[1]] = _lodash2.default.bind(_this.createRayAndEmit, _this, ON_PRESS[1], document);\n        _this[ON_WHEEL[1]] = _lodash2.default.bind(_this.createRayAndEmit, _this, ON_WHEEL[1], document);\n\n        // window\n        _this[ON_RESIZE[1]] = _lodash2.default.bind(_this.createRayAndEmit, _this, ON_RESIZE[1], window);\n        _this[ON_SCROLL[1]] = _lodash2.default.bind(_this.createRayAndEmit, _this, ON_SCROLL[1], window);\n        return _this;\n    }\n    //</editor-fold>\n\n    //<editor-fold desc=\"Browser event subscription\">\n\n\n    _createClass(Emitter, [{\n        key: 'handleSubscription',\n        value: function handleSubscription(previousCount, nextCount) {\n            if (previousCount === 0 && nextCount >= 1) {\n                this.browserSubscribe();\n            } else if (previousCount && nextCount === 0) {\n                this.browserUnsubscribe();\n            }\n        }\n    }, {\n        key: 'browserSubscribe',\n        value: function browserSubscribe() {\n            // TODO: optimize, so we add listeners only for events actually used by subscribers (keep each event type count)\n            // TODO: also, allow specifying the capture/bubble phase per handler\n            document.body.addEventListener(ON_MOUSE_OVER[0], this[ON_MOUSE_OVER[1]], false);\n            document.body.addEventListener(ON_MOUSE_OUT[0], this[ON_MOUSE_OUT[1]], false);\n            document.body.addEventListener(ON_MOUSE_ENTER[0], this[ON_MOUSE_ENTER[1]], false);\n            document.body.addEventListener(ON_MOUSE_LEAVE[0], this[ON_MOUSE_LEAVE[1]], false);\n            document.body.addEventListener(ON_MOUSE_DOWN[0], this[ON_MOUSE_DOWN[1]], false);\n            document.body.addEventListener(ON_MOUSE_UP[0], this[ON_MOUSE_UP[1]], false);\n            document.body.addEventListener(ON_MOUSE_MOVE[0], this[ON_MOUSE_MOVE[1]], false);\n            document.body.addEventListener(ON_CLICK[0], this[ON_CLICK[1]], false);\n            document.body.addEventListener(ON_DOUBLE_CLICK[0], this[ON_DOUBLE_CLICK[1]], false);\n            document.body.addEventListener(ON_CONTEXT_MENU[0], this[ON_CONTEXT_MENU[1]], false);\n            document.body.addEventListener(ON_TOUCH_START[0], this[ON_TOUCH_START[1]], false);\n            document.body.addEventListener(ON_TOUCH_END[0], this[ON_TOUCH_END[1]], false);\n            document.body.addEventListener(ON_TOUCH_MOVE[0], this[ON_TOUCH_MOVE[1]], false);\n            document.body.addEventListener(ON_TOUCH_CANCEL[0], this[ON_TOUCH_CANCEL[1]], false);\n            document.body.addEventListener(ON_CHANGE[0], this[ON_CHANGE[1]], false);\n            document.body.addEventListener(ON_INPUT[0], this[ON_INPUT[1]], false);\n            document.body.addEventListener(ON_SUBMIT[0], this[ON_SUBMIT[1]], false);\n            document.body.addEventListener(ON_FOCUS[0], this[ON_FOCUS[1]], false);\n            document.body.addEventListener(ON_BLUR[0], this[ON_BLUR[1]], false);\n            document.body.addEventListener(ON_KEY_DOWN[0], this[ON_KEY_DOWN[1]], false);\n            document.body.addEventListener(ON_KEY_UP[0], this[ON_KEY_UP[1]], false);\n            document.body.addEventListener(ON_PRESS[0], this[ON_PRESS[1]], false);\n            document.body.addEventListener(ON_WHEEL[0], this[ON_WHEEL[1]], false);\n            window.addEventListener(ON_RESIZE[0], this[ON_RESIZE[1]], false);\n            window.addEventListener(ON_SCROLL[0], this[ON_SCROLL[1]], false);\n            //console.log('subscribed')\n        }\n    }, {\n        key: 'browserUnsubscribe',\n        value: function browserUnsubscribe() {\n            document.body.removeEventListener(ON_MOUSE_OVER[0], this[ON_MOUSE_OVER[1]]);\n            document.body.removeEventListener(ON_MOUSE_OUT[0], this[ON_MOUSE_OUT[1]]);\n            document.body.removeEventListener(ON_MOUSE_ENTER[0], this[ON_MOUSE_ENTER[1]]);\n            document.body.removeEventListener(ON_MOUSE_LEAVE[0], this[ON_MOUSE_LEAVE[1]]);\n            document.body.removeEventListener(ON_MOUSE_DOWN[0], this[ON_MOUSE_DOWN[1]]);\n            document.body.removeEventListener(ON_MOUSE_UP[0], this[ON_MOUSE_UP[1]]);\n            document.body.removeEventListener(ON_MOUSE_MOVE[0], this[ON_MOUSE_MOVE[1]]);\n            document.body.removeEventListener(ON_CLICK[0], this[ON_CLICK[1]]);\n            document.body.removeEventListener(ON_DOUBLE_CLICK[0], this[ON_DOUBLE_CLICK[1]]);\n            document.body.removeEventListener(ON_CONTEXT_MENU[0], this[ON_CONTEXT_MENU[1]]);\n            document.body.removeEventListener(ON_TOUCH_START[0], this[ON_TOUCH_START[1]]);\n            document.body.removeEventListener(ON_TOUCH_END[0], this[ON_TOUCH_END[1]]);\n            document.body.removeEventListener(ON_TOUCH_MOVE[0], this[ON_TOUCH_MOVE[1]]);\n            document.body.removeEventListener(ON_TOUCH_CANCEL[0], this[ON_TOUCH_CANCEL[1]]);\n            document.body.removeEventListener(ON_CHANGE[0], this[ON_CHANGE[1]]);\n            document.body.removeEventListener(ON_INPUT[0], this[ON_INPUT[1]]);\n            document.body.removeEventListener(ON_SUBMIT[0], this[ON_SUBMIT[1]]);\n            document.body.removeEventListener(ON_FOCUS[0], this[ON_FOCUS[1]]);\n            document.body.removeEventListener(ON_BLUR[0], this[ON_BLUR[1]]);\n            document.body.removeEventListener(ON_KEY_DOWN[0], this[ON_KEY_DOWN[1]]);\n            document.body.removeEventListener(ON_KEY_UP[0], this[ON_KEY_UP[1]]);\n            document.body.removeEventListener(ON_PRESS[0], this[ON_PRESS[1]]);\n            document.body.removeEventListener(ON_WHEEL[0], this[ON_WHEEL[1]]);\n            window.removeEventListener(ON_RESIZE[0], this[ON_RESIZE[1]]);\n            window.removeEventListener(ON_SCROLL[0], this[ON_SCROLL[1]]);\n            //console.log('unsubscribed')\n        }\n        //</editor-fold>\n\n    }]);\n\n    return Emitter;\n}(_EmitterBase3.default);\n\n//<editor-fold desc=\"Constants\">\n// make accessible from the outside\n\n\nexports.default = Emitter;\nEmitter.ON_MOUSE_OVER = ON_MOUSE_OVER[1];\nEmitter.ON_MOUSE_OUT = ON_MOUSE_OUT[1];\nEmitter.ON_MOUSE_ENTER = ON_MOUSE_ENTER[1];\nEmitter.ON_MOUSE_LEAVE = ON_MOUSE_LEAVE[1];\nEmitter.ON_TOUCH_START_INSIDE = ON_MOUSE_DOWN[1];\nEmitter.ON_MOUSE_UP = ON_MOUSE_UP[1];\nEmitter.ON_MOUSE_MOVE = ON_MOUSE_MOVE[1];\nEmitter.ON_CLICK = ON_CLICK[1];\nEmitter.ON_DOUBLE_CLICK = ON_DOUBLE_CLICK[1];\nEmitter.ON_CONTEXT_MENU = ON_CONTEXT_MENU[1];\nEmitter.ON_TOUCH_START_INSIDE = ON_TOUCH_START[1];\nEmitter.ON_TOUCH_END = ON_TOUCH_END[1];\nEmitter.ON_TOUCH_MOVE = ON_TOUCH_MOVE[1];\nEmitter.ON_TOUCH_CANCEL = ON_TOUCH_CANCEL[1];\nEmitter.ON_CHANGE = ON_CHANGE[1];\nEmitter.ON_INPUT = ON_INPUT[1];\nEmitter.ON_SUBMIT = ON_SUBMIT[1];\nEmitter.ON_FOCUS = ON_FOCUS[1];\nEmitter.ON_BLUR = ON_BLUR[1];\nEmitter.ON_KEY_DOWN = ON_KEY_DOWN[1];\nEmitter.ON_KEY_UP = ON_KEY_UP[1];\nEmitter.ON_PRESS = ON_PRESS[1];\nEmitter.ON_WHEEL = ON_WHEEL[1];\nEmitter.ON_RESIZE = ON_RESIZE[1];\nEmitter.ON_SCROLL = ON_SCROLL[1];\n//</editor-fold>\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/raycast-dom/build/Emitter.js\n// module id = 21\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _Ray = require('./Ray');\n\nvar _Ray2 = _interopRequireDefault(_Ray);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar EmitterBase = function () {\n\n    //<editor-fold desc=\"Constructor\">\n    function EmitterBase() {\n        _classCallCheck(this, EmitterBase);\n\n        this.slots = [];\n    }\n    //</editor-fold>\n\n    //<editor-fold desc=\"Connect/disconnect\">\n    // TODO: slot v2.0 should contain:\n    // slot = {\n    //     handlers, // current slot data\n    //     elements, // array od elements to check for intersection before emitting a ray\n    //     phase, // capture/bubbling phase\n    //     useDetachedRays // fire detached rays\n    // }\n\n\n    _createClass(EmitterBase, [{\n        key: 'connect',\n        value: function connect(slot) {\n            var len;\n\n            if (this.isConnected(slot)) {\n                return;\n            }\n            len = this.slots.length;\n            this.slots.push(slot);\n            this.handleSubscription(len, this.slots.length);\n        }\n    }, {\n        key: 'disconnect',\n        value: function disconnect(slot) {\n            var len = this.slots.length;\n\n            _lodash2.default.remove(this.slots, function (subscriber) {\n                return subscriber === slot;\n            });\n            this.handleSubscription(len, this.slots.length);\n        }\n    }, {\n        key: 'isConnected',\n        value: function isConnected(slot) {\n            return _lodash2.default.some(this.slots, function (subscriber) {\n                return subscriber === slot;\n            });\n        }\n        //</editor-fold>\n\n        //<editor-fold desc=\"Subscription\">\n        /**\n         * Abstract\n         * @param previousCount\n         * @param nextCount\n         */\n\n    }, {\n        key: 'handleSubscription',\n        value: function handleSubscription(previousCount, nextCount) {}\n        // abstract\n\n        //</editor-fold>\n\n        //<editor-fold desc=\"Emitting\">\n\n    }, {\n        key: 'createRayAndEmit',\n        value: function createRayAndEmit(handlerName, root, e) {\n            var ray;\n\n            e = e || window.event;\n\n            ray = new _Ray2.default(e, root, {\n                x: e.clientX,\n                y: e.clientY\n            });\n\n            this.emit(handlerName, ray);\n        }\n    }, {\n        key: 'emit',\n        value: function emit(handlerName, ray) {\n            var handler;\n\n            _lodash2.default.forEach(this.slots, function (slot) {\n                if (slot) {\n                    // might be undefined because firing some handlers could disconnect others (recursion)\n                    handler = slot[handlerName];\n\n                    // useDetachedRays - a switch *per slot object* (with false as default)\n                    if (ray && !ray.isAttached() && !slot.useDetachedRays) {\n                        console.warn('Ray has been detached', ray.toString());\n                        return false;\n                    }\n\n                    // TODO: if slot connected providing the 'elements' array, check for intersections of ray and any of the element. Emit only when intersection exists.\n                    if (handler) {\n                        handler(ray);\n                    }\n                }\n            });\n        }\n        //</editor-fold>\n\n    }]);\n\n    return EmitterBase;\n}();\n\nexports.default = EmitterBase;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/raycast-dom/build/EmitterBase.js\n// module id = 22\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _dom = require('./util/dom');\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _evaluateID = require('./lookup/evaluateID');\n\nvar _evaluateID2 = _interopRequireDefault(_evaluateID);\n\nvar _evaluateClassName = require('./lookup/evaluateClassName');\n\nvar _evaluateClassName2 = _interopRequireDefault(_evaluateClassName);\n\nvar _equalID = require('./lookup/equalID');\n\nvar _equalID2 = _interopRequireDefault(_equalID);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Ray emitted by an emitter\n */\nvar Ray = function () {\n\n    /**\n     * @param e Event\n     * @param root Root element (optional, defaults to document)\n     * @param position Position in screen coordinates (optional)\n     */\n    function Ray(e, root, position) {\n        _classCallCheck(this, Ray);\n\n        this.e = e;\n        this.target = e.target;\n        this.root = root || document;\n        this.position = position;\n    }\n\n    /**\n     * @Private\n     * Gets the reversed (bottom up)\n     * @returns {*} Array of DOM nodes\n     */\n\n\n    _createClass(Ray, [{\n        key: '_getPath',\n        value: function _getPath() {\n            if (!this.path) {\n                // be lazy for performance\n                this.path = _dom2.default.buildPath(this.root, this.target);\n            }\n            return this.path;\n        }\n\n        /**\n         * Gets intersections (bottom-up)\n         * @returns {*} Array of DOM nodes\n         */\n\n    }, {\n        key: 'getIntersections',\n        value: function getIntersections(topDown) {\n            var bottomUpPath = this._getPath();\n\n            if (!topDown) {\n                return bottomUpPath;\n            }\n\n            if (!this.topDownPath) {\n                // be lazy for performance\n                this.topDownPath = _lodash2.default.reverse(bottomUpPath);\n            }\n\n            return this.topDownPath;\n        }\n\n        /**\n         * Checks if the ray is attached to the DOM\n         * @returns {boolean}\n         */\n\n    }, {\n        key: 'isAttached',\n        value: function isAttached() {\n            var reversed = this._getPath();\n\n            //return reversed && reversed[reversed.length - 1] === this.parentElement;\n            return !!reversed;\n        }\n\n        //<editor-fold desc=\"Ray operations\">\n        /**\n         * Returns true if path intersects node\n         * @param node\n         * @returns {boolean}\n         */\n\n    }, {\n        key: 'intersects',\n        value: function intersects(node) {\n            var path = this._getPath();\n\n            return path && path.indexOf(node) > -1;\n        }\n\n        /**\n         * Returns node with specified ID if ray intersects it, otherwise false\n         * @param id ID to check for\n         * @param strict If true, look for exact ID. If false, use substring.\n         * @returns {*}\n         */\n\n    }, {\n        key: 'intersectsId',\n        value: function intersectsId(id, strict) {\n            var func = strict ? _equalID2.default : _evaluateID2.default;\n\n            return this.findNode(_lodash2.default.partial(func, id)) || false;\n        }\n\n        /**\n         * Returns node with specified className if ray intersects it, otherwise false\n         * @param id ID to check for\n         * @returns {*}\n         */\n\n    }, {\n        key: 'intersectsClass',\n        value: function intersectsClass(className) {\n            return this.findNode(_lodash2.default.partial(_evaluateClassName2.default, className));\n        }\n\n        /**\n         * Finds the node using a predicate\n         * @param predicate Function accepting and item and returning boolean (match)\n         * @param topDown Should we start from root\n         * @returns {*}\n         */\n\n    }, {\n        key: 'findNode',\n        value: function findNode(predicate, topDown) {\n            var path = this._getPath();\n\n            return topDown ? _lodash2.default.findLast(path, predicate) : _lodash2.default.find(path, predicate);\n        }\n        //</editor-fold>\n\n        //<editor-fold desc=\"Event operations\">\n\n    }, {\n        key: 'preventDefault',\n        value: function preventDefault() {\n            this.e.preventDefault();\n        }\n        //</editor-fold>\n\n        //<editor-fold desc=\"toString\">\n\n    }, {\n        key: 'toString',\n        value: function toString() {\n            return 'Ray(' + this._getPath().length + ' intersections)';\n        }\n        //</editor-fold>\n\n    }]);\n\n    return Ray;\n}();\n\nexports.default = Ray;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/raycast-dom/build/Ray.js\n// module id = 23\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar DomUtil = function () {\n    function DomUtil() {\n        _classCallCheck(this, DomUtil);\n    }\n\n    _createClass(DomUtil, null, [{\n        key: \"buildPath\",\n        value: function buildPath(parentElement, childElement) {\n            var path = [],\n                node;\n\n            path.push(childElement);\n\n            if (childElement === parentElement) {\n                return path;\n            }\n\n            node = childElement.parentNode;\n\n            while (node != null) {\n                path.push(node);\n                if (node === parentElement) {\n                    return path;\n                }\n                node = node.parentNode;\n            }\n            return false; // not a real path\n        }\n    }]);\n\n    return DomUtil;\n}();\n\nexports.default = DomUtil;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/raycast-dom/build/util/dom.js\n// module id = 24\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = evaluateID;\n/**\n * Checks whether the substring is present within element ID\n * @param sub Substring to check for\n * @param element DOM element\n * @returns {*|boolean}\n */\nfunction evaluateID(sub, element) {\n  var id = element.id;\n\n  return id && id.indexOf(sub) === 0;\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/raycast-dom/build/lookup/evaluateID.js\n// module id = 25\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = evaluateClassName;\nvar BLANK_STRING = ' ';\n\n/**\n * Checks whether the substring is present within element className\n * @param sub Substring to check for\n * @param element DOM element\n * @returns {*|boolean}\n */\nfunction evaluateClassName(sub, element) {\n  var className = BLANK_STRING + element.className + BLANK_STRING;\n\n  sub = BLANK_STRING + sub + BLANK_STRING;\n  return className && className.indexOf(sub) > -1;\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/raycast-dom/build/lookup/evaluateClassName.js\n// module id = 26\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = equalID;\n/**\n * Checks whether the element ID is equal to ID\n * @param id ID to check for\n * @param element DOM element\n * @returns {*|boolean}\n */\nfunction equalID(id, element) {\n  return id === element.id;\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/raycast-dom/build/lookup/equalID.js\n// module id = 27\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _Emitter = require('./Emitter');\n\nvar _Emitter2 = _interopRequireDefault(_Emitter);\n\nvar _EmitterBase2 = require('./EmitterBase');\n\nvar _EmitterBase3 = _interopRequireDefault(_EmitterBase2);\n\nvar _Ray = require('./Ray');\n\nvar _Ray2 = _interopRequireDefault(_Ray);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * A plug that could be subclassed\n * Connects to Emitter passing this.handlers (defined by subclass)\n */\nvar EmitterPlug = function (_EmitterBase) {\n    _inherits(EmitterPlug, _EmitterBase);\n\n    //<editor-fold desc=\"Constructor\">\n    function EmitterPlug() {\n        _classCallCheck(this, EmitterPlug);\n\n        var _this = _possibleConstructorReturn(this, (EmitterPlug.__proto__ || Object.getPrototypeOf(EmitterPlug)).call(this));\n\n        _this.emitter = _Emitter2.default.getInstance();\n        return _this;\n    }\n    //</editor-fold>\n\n    //<editor-fold desc=\"Emitter subscription\">\n\n\n    _createClass(EmitterPlug, [{\n        key: 'handleSubscription',\n        value: function handleSubscription(previousCount, nextCount) {\n            if (previousCount === 0 && nextCount >= 1) {\n                this.emitter.connect(this.handlers);\n            } else if (previousCount && nextCount === 0) {\n                this.emitter.disconnect(this.handlers);\n            }\n        }\n        //</editor-fold>\n\n    }]);\n\n    return EmitterPlug;\n}(_EmitterBase3.default);\n\nexports.default = EmitterPlug;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/raycast-dom/build/EmitterPlug.js\n// module id = 28\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = evaluateReactID;\n/**\n * Checks whether the substring is present within element's React ID\n * @param sub Substring to check for\n * @param element DOM element\n * @returns {*|boolean}\n */\nfunction evaluateReactID(sub, element) {\n  var id = element.getAttribute && element.getAttribute('data-reactid');\n\n  return id && id.indexOf(sub) > -1;\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/raycast-dom/build/lookup/evaluateReactID.js\n// module id = 29\n// module chunks = 0","import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\n\nvar classnames = require('classnames');\n\nexport default class MenuItemFactory {\n\n    constructor(renderers, classPrefix) {\n        this.renderers = renderers;\n        this.classPrefix = classPrefix;\n    }\n\n    createItem(data, key, classes, config) {\n        var isExpandable = !!data.items,\n            renderer = this.renderers[data.type],\n            additions = {},\n            classPrefix = this.classPrefix,\n            className;\n\n            additions[this.classPrefix + 'menu-item'] = true;\n            additions[this.classPrefix + 'menu-item-expandable'] = isExpandable;\n            className = classnames(classes, additions);\n\n        if (!renderer) {\n            throw 'Undefined renderer for type [' + data.type + ']';\n        }\n\n        return React.createElement(renderer, {\n            data,\n            key,\n            isExpandable,\n            className,\n            classPrefix,\n            config\n        });\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./components/MenuItemFactory.js","import React, { Component } from 'react';\nimport Dom from './../util/Dom';\n\nvar classNames = require('classnames');\n\nexport default class MenuPopupFactory {\n\n    constructor(classPrefix) {\n        this.classPrefix = classPrefix;\n    }\n\n    createItem(config) {\n        var className = classNames('showing', Dom.buildClassNames(this.classPrefix, ['menu-popup']));\n\n        return (\n            <div {...config.handlers} id={config.popupId} key={config.popupId} className={className} styles={config.styles}>\n                {config.children}\n            </div>\n        );\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./components/MenuPopupFactory.js","module.exports = require('./build/components/Liberator');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/react-liberator/index.js\n// module id = 32\n// module chunks = 0","'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar DEFAULT_LIBERATOR_LAYER_ID = '___liberator___';\nvar DEFAULT_LIBERATOR_LAYER_ELEMENT_TYPE = 'div';\nvar DEFAULT_LIBERATOR_MULTIPLE_CHILDREN_MARKER = 'react-liberator-multi';\n\nvar Liberator = function (_Component) {\n    _inherits(Liberator, _Component);\n\n    function Liberator(props) {\n        _classCallCheck(this, Liberator);\n\n        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Liberator).call(this, props));\n\n        _this.state = {\n            layerElement: null,\n            wrapperElement: null\n        };\n        return _this;\n    }\n\n    _createClass(Liberator, [{\n        key: 'componentWillMount',\n        value: function componentWillMount() {\n            if (this.props.active && this.props.visible) {\n                this.activate(this.props.children);\n                this.renderInPopup(this.props.children);\n            }\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            this.deactivate(this.props.children);\n        }\n    }, {\n        key: 'activate',\n        value: function activate(children) {\n            var layerElement = this.props.layer,\n                layerId,\n                wrapperElement;\n\n            if (!layerElement) {\n                layerId = this.props.layerId, layerElement = document.getElementById(layerId); // layer lookup\n            }\n\n            if (!layerElement) {\n                // if we haven't found the predefined div, we're creating it on the fly\n                layerElement = document.createElement(this.props.layerElementType);\n                layerElement.setAttribute('id', layerId);\n                document.body.appendChild(layerElement);\n            }\n\n            this.state.layerElement = layerElement;\n\n            // we're creating a wrapper element on the fly\n            // we're rendering the component into this element when active\n            wrapperElement = document.createElement('div');\n            if (this.props.className) {\n                wrapperElement.className = this.props.className;\n            }\n            this.state.wrapperElement = wrapperElement;\n\n            layerElement.appendChild(wrapperElement);\n\n            this.props.onActivate({\n                layer: this.state.layerElement,\n                wrapper: this.state.wrapperElement,\n                children: children\n            });\n        }\n    }, {\n        key: 'deactivate',\n        value: function deactivate(children) {\n            var wrapperElement = this.state.wrapperElement,\n                layerElement = this.state.layerElement;\n\n            this.props.onDeactivate({\n                layer: this.state.layerElement,\n                wrapper: this.state.wrapperElement,\n                children: children\n            });\n\n            if (wrapperElement) {\n                _reactDom2.default.unmountComponentAtNode(wrapperElement);\n                if (layerElement) {\n                    layerElement.removeChild(wrapperElement);\n                }\n                this.setState({\n                    wrapperElement: null\n                });\n            }\n            if (layerElement && !layerElement.childNodes.length && (this.props.autoCleanup || this.props.layerId === DEFAULT_LIBERATOR_LAYER_ID)) {\n                // removing the default layer automatically\n                // if no active popups, removing the layer altogether\n                document.body.removeChild(layerElement);\n                this.setState({\n                    layerElement: null\n                });\n            }\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(newProps) {\n            var changedActiveState = newProps.active !== this.props.active,\n                changedVisibility = newProps.visible !== this.props.visible,\n                isNowActive = newProps.active,\n                isNowVisible = newProps.visible,\n                shouldRenderInPopup = isNowActive && isNowVisible;\n\n            if (changedActiveState || changedVisibility) {\n                if (shouldRenderInPopup) {\n                    this.activate(newProps.children);\n                } else {\n                    this.deactivate(newProps.children);\n                }\n            }\n\n            if (shouldRenderInPopup) {\n                return this.renderInPopup(newProps.children);\n            } else {\n                return null;\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            if (this.props.active || !this.props.visible) {\n                return null; // short circuit here\n            } else {\n                    return this.wrapChildren(this.props.children);\n                }\n        }\n    }, {\n        key: 'wrapChildren',\n        value: function wrapChildren(children) {\n            if (!children) {\n                return null;\n            }\n\n            if (children.length > 1) {\n                // ReactDOM.render currently renders a single element only (https://facebook.github.io/react/docs/top-level-api.html#reactdom.render)\n                // Until the API changes, we have to wrap children inside the additional DIV\n                // We're marking this DIV with a class, so we the caller could differentiate this case\n                return _react2.default.createElement(\n                    'div',\n                    { className: DEFAULT_LIBERATOR_MULTIPLE_CHILDREN_MARKER },\n                    children\n                );\n            }\n\n            return children;\n        }\n    }, {\n        key: 'renderInPopup',\n        value: function renderInPopup(children) {\n            return (0, _reactDom.render)(this.wrapChildren(children), this.state.wrapperElement);\n        }\n    }]);\n\n    return Liberator;\n}(_react.Component);\n\nexports.default = Liberator;\n\nLiberator.propTypes = {\n    active: _react2.default.PropTypes.bool,\n    visible: _react2.default.PropTypes.bool,\n    layer: _react2.default.PropTypes.node,\n    layerId: _react2.default.PropTypes.string,\n    layerElementType: _react2.default.PropTypes.string,\n    autoCleanup: _react2.default.PropTypes.bool,\n    onActivate: _react2.default.PropTypes.func,\n    onDeactivate: _react2.default.PropTypes.func\n};\nLiberator.defaultProps = {\n    active: true, // popping up by default\n    visible: true, // visible by default\n    layer: null, // we could pass the layer element to render the popup to (takes precedence to layerId/layerElementType),\n    layerId: DEFAULT_LIBERATOR_LAYER_ID, // the ID of the element to render the popup to,\n    layerElementType: DEFAULT_LIBERATOR_LAYER_ELEMENT_TYPE, // the type of the element to render the popup to,\n    autoCleanup: false, // automatically destroying the layer when having no child elements\n    onActivate: function onActivate() {},\n    onDeactivate: function onDeactivate() {}\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/react-liberator/build/components/Liberator.js\n// module id = 33\n// module chunks = 0","import _ from 'lodash';\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport Aligner from './../util/Aligner.js';\nimport Dom from './../util/Dom';\nimport Menu from './Menu';\nimport MenuEmitter from './../emitters/MenuEmitter.js';\nimport ClickUtil from './../util/click';\n\nvar classnames = require('classnames');\n\nconst MOUSE_ENTER_DELAY = 0,\n      MOUSE_LEAVE_DELAY = 1000,\n      HINTS = function(depth) { // default hints. Could be overridden via props\n          return !depth ?\n              ['ss', 'se', 'sm', 'ns', 'ne', 'nm'] : // zero depth (first menu popup)\n              ['es', 'em', 'ee', 'ws', 'wm', 'we']; // all other depths\n      };\n\nexport default class DropdownMenu extends Component {\n\n    //<editor-fold desc=\"Constructor\">\n    constructor(props) {\n        super(props);\n\n        this.onButtonClick = this.onButtonClick.bind(this);\n        this.onButtonTouchStart = this.onButtonTouchStart.bind(this);\n        this.onButtonMouseEnter = this.onButtonMouseEnter.bind(this);\n        this.onButtonMouseLeave = this.onButtonMouseLeave.bind(this);\n        this.onButtonContextMenu = this.onButtonContextMenu.bind(this);\n        this.onOpen = this.onOpen.bind(this);\n        this.onClose = this.onClose.bind(this);\n        this.setMenuVisibility = this.setMenuVisibility.bind(this);\n        this.hideMenu = this.hideMenu.bind(this);\n\n        this.state = {\n            isOpen: false\n        };\n    }\n    //</editor-fold>\n\n    //<editor-fold desc=\"Toggle button handlers\">\n    onButtonClick(e) {\n        e.preventDefault();\n        if (!ClickUtil.isGhostClickEvent(e)) {\n            this.isTouch = false;\n            this.openMenu();\n        }\n    }\n\n    onButtonContextMenu(e) {\n        e.preventDefault();\n    }\n\n    onButtonTouchStart() {\n        this.isTouch = true;\n        this.openMenu();\n    }\n\n    onButtonMouseEnter(e) {\n        if (ClickUtil.isGhostClickEvent(e.nativeEvent)) {\n            return;\n        }\n        if (this.props.openOnMouseOver) {\n            _.delay(this.openMenu.bind(this), this.props.mouseEnterDelay);\n        }\n    }\n\n    onButtonMouseLeave(e) {\n        if (ClickUtil.isGhostClickEvent(e.nativeEvent)) {\n            return;\n        }\n        if (this.props.closeOnMouseOut) {\n            _.delay(this.closeMenu.bind(this), this.props.mouseLeaveDelay);\n        }\n    }\n\n    //</editor-fold>\n\n    //<editor-fold desc=\"Menu handlers\">\n    onOpen() {\n        // if we're in toggle mode, register button as toggle part,\n        // clicking or tapping the toggle parts produces 'onClickOutside' (so if the menu is open, clicking the button will close it)\n        // however, tap-and-hold won't produce 'onContextMenu' (which would close the menu)\n        var isToggle = this.props.toggleMode && !this.isTouch; // do not use toggle behaviour with touch, because it is currently problematic for MenuEmitter processing logic\n        \n        MenuEmitter.getInstance().registerPart(this.buttonElement, isToggle);\n        this.props.onOpen();\n    }\n\n    onClose() {\n        // if the menu is closed by (this) dropdown menu, isOpen is already false\n        // we don't want to go circular, so short circuit here\n        if (this.state.isOpen) {\n            this.hideMenu();\n            this.props.onClose();\n        }\n    }\n    //</editor-fold>\n\n    //<editor-fold desc=\"Actions\">\n    hideMenu() {\n        var self = this;\n\n        _.defer(function () {\n            // we're deferring the hiding of the menu, so on close it doesn't go through the open->close->open transition\n            self.setMenuVisibility(false);\n        });\n    }\n\n    setMenuVisibility(visible) {\n        this.setState({\n            isOpen: visible\n        });\n    }\n\n    openMenu() {\n        if (!this.state.isOpen) { // open only if currently closed\n            this.setMenuVisibility(true);\n        }\n        // else do nothing. If the menu is already open, it will close we'were clicking away from it.\n    }\n\n    closeMenu() {\n        if (this.state.isOpen) {\n            this.hideMenu();\n        }\n    }\n    //</editor-fold>\n\n    //<editor-fold desc=\"React\">\n    renderButton() {\n        var className = classnames('', Dom.buildClassNames(this.props.classPrefix, [\n                'menu-button',\n                this.state.isOpen ? 'menu-button-selected' : null\n            ])),\n            // render the child passed from the outside, or a default button\n            children = this.props.children || (\n                <button ref='button' className={className}>\n                    {this.props.buttonText}\n                </button>\n            ), self = this;\n\n        return React.Children.map(children, function (child) {\n            return React.cloneElement(child, {\n                ref: 'button',\n                className,\n                onMouseDown: self.onButtonClick, // TODO: onMouseDown\n                onTouchStart: self.onButtonTouchStart,\n                onMouseEnter: self.onButtonMouseEnter,\n                onMouseLeave: self.onButtonMouseLeave,\n                onContextMenu: self.onButtonContextMenu\n            });\n        }.bind(this));\n    }\n\n    render() {\n        var buttonClassName = classnames(this.props.className, Dom.buildClassNames(this.props.classPrefix, [\n                'drop-down',\n                this.state.isOpen ? 'drop-down-open' : null\n            ])),\n            menu = this.state.isOpen ? (\n            <Menu\n                config={this.props.config}\n                classPrefix={this.props.classPrefix}\n                onOpen={this.onOpen}\n                onClose={this.onClose}\n                onItemMouseEnter={this.props.onItemMouseEnter}\n                onItemMouseLeave={this.props.onItemMouseLeave}\n                onItemClick={this.props.onItemClick}\n                aligner={this.props.aligner}\n                alignTo={this.buttonElement}\n                hints={this.props.hints}\n                items={this.props.items}\n                autoCloseOtherMenuInstances={this.props.autoCloseOtherMenuInstances}\n                renderers={this.props.renderers}\n                mouseEnterDelay={this.props.mouseEnterDelay}\n                mouseLeaveDelay={this.props.mouseLeaveDelay}\n            />\n        ) : null;\n\n        return (\n            <div className={buttonClassName} >\n                {this.renderButton()}\n                {menu}\n            </div>\n        );\n    }\n\n    componentDidMount() {\n        this.buttonElement = ReactDOM.findDOMNode(this.refs.button);\n    }\n    //</editor-fold>\n}\n\n//<editor-fold desc=\"Props\">\nDropdownMenu.propTypes = {\n    config: React.PropTypes.object, // config object visiting every menu item\n    classPrefix: React.PropTypes.string, // CSS class prefix for all the classes used by this dropdown menu\n    buttonText: React.PropTypes.string, // the text of the default button\n    toggleMode: React.PropTypes.bool.isRequired, // should menu be toggled (opened/closed) by clicking the button\n    openOnMouseOver: React.PropTypes.bool.isRequired, // should menu be opened on mouse over (Mac menu is opened on first *click*)\n    closeOnMouseOut: React.PropTypes.bool.isRequired, // should menu be closed on mouse over\n    items: React.PropTypes.array.isRequired, // menu items (data)\n    autoCloseOtherMenuInstances: React.PropTypes.bool.isRequired,\n    mouseEnterDelay: React.PropTypes.number,\n    mouseLeaveDelay: React.PropTypes.number,\n    hints: React.PropTypes.func.isRequired,\n    onOpen: React.PropTypes.func, // custom open handler\n    onClose: React.PropTypes.func, // custom close handler\n    onItemMouseEnter: React.PropTypes.func, // custom item mouse enter handler\n    onItemMouseLeave: React.PropTypes.func, // custom item mouse leave handler\n    onItemClick: React.PropTypes.func // custom item click handler\n};\nDropdownMenu.defaultProps = {\n    config: {},\n    classPrefix: '',\n    buttonText: '- Menu -',\n    openOnMouseOver: false,\n    closeOnMouseOut: false,\n    toggleMode: true,\n    items: [],\n    aligner: new Aligner(), // default aligner\n    autoCloseOtherMenuInstances: true,\n    mouseEnterDelay: MOUSE_ENTER_DELAY,\n    mouseLeaveDelay: MOUSE_LEAVE_DELAY,\n    hints: HINTS,\n    onOpen() {},\n    onClose() {},\n    onItemMouseEnter() {},\n    onItemMouseLeave() {},\n    onItemClick() {}\n};\n//</editor-fold>\n\n\n// WEBPACK FOOTER //\n// ./components/DropdownMenu.js"],"sourceRoot":""}